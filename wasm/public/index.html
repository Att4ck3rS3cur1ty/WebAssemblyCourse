<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>WebAssembly Demo</title>
  </head>
  <body>
    <h1>WebAssembly Demo</h1>
    <script>
      // Load WASM
      /* relatively new way of instantiate it, so it'll be common to see other ways to do it,
        but this is by far the best way, once it instantiates directly from the download file
       (will be faster than previous methods) */
      WebAssembly.instantiateStreaming(fetch('./program.wasm'))
      .then(wasm => {
        console.log('WASM Ready.');

        window.wasm = wasm
        // Log out all exported functions
        // console.log(WebAssembly.Module.exports(wasm.module))
        console.log(wasm.instance.exports.getDoubleNumber(80));
      })
    </script>
  </body>
</html>
